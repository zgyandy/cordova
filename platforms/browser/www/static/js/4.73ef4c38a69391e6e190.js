webpackJsonp([4],{"7zvt":function(t,a){},"9ayq":function(t,a){},KusN:function(t,a,s){"use strict";var e={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"loadMore"},[a("p",{staticClass:"grayColor"},[a("span",[this._v(this._s(this.title)+"  "),a("span",{staticClass:"iconfont icon-test2"})])])])},staticRenderFns:[]};var i=s("VU/8")({props:{total:!1,title:{default:"上拉加载更多"}}},e,!1,function(t){s("tM6Q")},"data-v-af4a3a36",null);a.a=i.exports},jfFI:function(t,a,s){"use strict";var e={props:{videoArr:{default:function(){return new Array}},videoBl:{default:!0}},data:function(){return{listTitle:{title:"热门视频",arr:[{name:"videoList",msg:"更多>"}]}}},methods:{toPlay:function(t){this.$router.push({name:"videoPlay",params:{id:t}})}},components:{listTitle:s("kZK2").a}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.videoBl?t._e():e("listTitle",{attrs:{listTitle:t.listTitle}}),t._v(" "),e("ul",{staticClass:"leatureList dis-flex-wrap"},t._l(t.videoArr,function(a,i){return e("li",{key:i,on:{click:function(s){return s.stopPropagation(),t.toPlay(a.id)}}},[e("div",{staticClass:"imgBox"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.state.imgBaseUrl+a.picture,expression:"$store.state.imgBaseUrl + item.picture"}],attrs:{alt:a.title}}),t._v(" "),e("div",{staticClass:"dis-flex-bt"},[e("p",[t._v(t._s(a.rangeDataName))]),t._v(" "),e("p",[t._v(t._s(a.formatDuration))])])]),t._v(" "),e("p",{staticClass:"explain"},[t._v(t._s(a.title))]),t._v(" "),e("dl",{staticClass:"videoMsg dis-flex-bt grayColor"},[e("dt",[t._v(t._s(a.teacherName))]),t._v(" "),e("dd",[e("img",{staticClass:"playIcon",attrs:{src:s("RBJf"),alt:""}}),t._v(" "),e("span",[t._v(t._s(a.viewCount))])])])])}),0)],1)},staticRenderFns:[]};var o=s("VU/8")(e,i,!1,function(t){s("7zvt")},"data-v-f6f44fd4",null);a.a=o.exports},r3X6:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("jfFI"),i=s("FMEb"),o=s("KusN"),r={data:function(){return{att:[],num:0,videoArr:[],difficulty:[],subject:[],advert:[],bulletin:[],loadTitle:"上拉加载更多",swBl:!0,allLoaded:!1,maxDistance:100,nowPage:1,pages:0}},created:function(){this.$store.commit("navTitle",""),this.getData(this.nowPage)},beforeRouteUpdate:function(t,a,s){this.getData(1),s()},methods:{getData:function(t){var a=this;this.$get("/api/video/total/?limit=10&start="+t+"&subject="+this.$route.params.subject+"&difficulty="+this.$route.params.difficulty+"&sort="+this.$route.params.sort).then(function(s){a.allLoaded=!0,200==s.code&&(a.swBl=!0,a.pages=s.data.queryVideoList.pages,1==t?(a.difficulty=s.data.difficulty,a.subject=s.data.subject,a.advert=s.data.advert,a.videoArr=s.data.queryVideoList.dataList):a.videoArr=a.videoArr.concat(s.data.queryVideoList.dataList),a.pages&&(a.windowScroll(),t===s.data.queryVideoList.pages&&(a.allLoaded=!0,a.loadTitle="加载完成"),a.$refs.loadmore.onBottomLoaded()))}).catch(function(t){throw a.allLoaded=!0,t})},loadBottom:function(){this.swBl&&(this.nowPage+=1,this.getData(this.nowPage),this.swBl=!1)},windowScroll:function(){var t=this;window.onscroll=function(){(document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight)>=(document.documentElement.scrollHeight||document.body.scrollHeight)-10&&t.pages!==t.newsPage?t.allLoaded=!1:t.allLoaded=!0}},toList:function(t,a){switch(this.num=0,t){case"subject":this.$router.push({name:"videoList",params:{subject:a,difficulty:this.$route.params.difficulty,sort:this.$route.params.sort}});break;case"difficulty":this.$router.push({name:"videoList",params:{difficulty:a,subject:this.$route.params.subject,sort:this.$route.params.sort}});break;default:this.$router.push({name:"videoList",params:{sort:a,subject:this.$route.params.subject,difficulty:this.$route.params.difficulty}})}}},components:{VideoList:e.a,Bulletin:i.a,LoadMore:o.a}},n={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"listPage"},[s("div",{staticClass:"drop-nav-box layout"},[s("dl",{staticClass:"drop-nav dropNav dis-flex-around layout"},[s("dd",{staticClass:"dis-flex-center",class:{redColor:1==t.num},on:{click:function(a){a.stopPropagation(),1==t.num?t.num=0:t.num=1}}},[s("p",[t._v("全部分类")]),t._v(" "),s("div",{staticClass:"iconfont",class:1==t.num?"icon-icon-test":"icon-icon-test2"})]),t._v(" "),s("dd",{staticClass:"dis-flex-center",class:{redColor:2==t.num},on:{click:function(a){a.stopPropagation(),2==t.num?t.num=0:t.num=2}}},[s("p",[t._v("全部类别")]),t._v(" "),s("div",{staticClass:"iconfont",class:2==t.num?"icon-icon-test":"icon-icon-test2"})]),t._v(" "),s("dd",{staticClass:"dis-flex-center",class:{redColor:3==t.num},on:{click:function(a){a.stopPropagation(),3==t.num?t.num=0:t.num=3}}},[s("p",[t._v("综合排序")]),t._v(" "),s("div",{staticClass:"iconfont",class:3==t.num?"icon-icon-test":"icon-icon-test2"})])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.num,expression:"num != 0"}],staticClass:"grayCover drop-gray-cover videoStateBox layout",on:{click:function(a){a.stopPropagation(),t.num=0}}},[s("ul",{directives:[{name:"show",rawName:"v-show",value:1==t.num,expression:"num == 1"}],staticClass:"drop-nav-list dropNavOne"},[s("li",{class:{active:0==t.$route.params.subject},attrs:{data:"a",value:"0"},on:{click:function(a){return a.stopPropagation(),t.toList("subject",0)}}},[s("a",{staticClass:"dis-flex-center",attrs:{href:"javascript:;"}},[t._v("全部")])]),t._v(" "),t._l(t.subject,function(a,e){return s("li",{key:e,class:{active:t.$route.params.subject==a.dataCode},attrs:{data:"a",value:a.id},on:{click:function(s){return s.stopPropagation(),t.toList("subject",a.dataCode)}}},[s("a",{staticClass:"dis-flex-center",attrs:{href:"javascript:;"}},[t._v(t._s(a.name))])])})],2),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:2==t.num,expression:"num == 2"}],staticClass:"drop-nav-list dropNavTwo"},[s("li",{class:{active:0==t.$route.params.difficulty},attrs:{data:"b",value:"0"},on:{click:function(a){return a.stopPropagation(),t.toList("difficulty",0)}}},[s("a",{staticClass:"dis-flex-center",attrs:{href:"javascript:;"}},[t._v("全部")])]),t._v(" "),t._l(t.difficulty,function(a,e){return s("li",{key:e,class:{active:t.$route.params.difficulty==a.dataCode},attrs:{data:"a",value:a.id},on:{click:function(s){return s.stopPropagation(),t.toList("difficulty",a.dataCode)}}},[s("a",{staticClass:"dis-flex-center",attrs:{href:"javascript:;"}},[t._v(t._s(a.name))])])})],2),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:3==t.num,expression:"num == 3"}],staticClass:"drop-nav-list dropNavThree"},[s("li",{class:{active:0==t.$route.params.sort},attrs:{data:"c",value:"0"},on:{click:function(a){return a.stopPropagation(),t.toList("sort",0)}}},[s("a",{staticClass:"dis-flex-center",attrs:{href:"javascript:;"}},[t._v("综合")])]),t._v(" "),s("li",{class:{active:1==t.$route.params.sort},attrs:{data:"c",value:"1"},on:{click:function(a){return a.stopPropagation(),t.toList("sort",1)}}},[s("a",{staticClass:"dis-flex-center",attrs:{href:"javascript:;"}},[t._v("人气")])]),t._v(" "),s("li",{class:{active:2==t.$route.params.sort},attrs:{data:"c",value:"2"},on:{click:function(a){return a.stopPropagation(),t.toList("sort",2)}}},[s("a",{staticClass:"dis-flex-center",attrs:{href:"javascript:;"}},[t._v("最新")])])])]),t._v(" "),s("mt-loadmore",{ref:"loadmore",attrs:{bottomMethod:t.loadBottom,bottomAllLoaded:t.allLoaded,bottomPullText:"上拉加载",maxDistance:t.maxDistance}},[s("Bulletin",{attrs:{bulletin:t.advert}}),t._v(" "),s("VideoList",{attrs:{videoArr:t.videoArr}}),t._v(" "),s("LoadMore",{attrs:{title:t.loadTitle}})],1)],1)},staticRenderFns:[]};var c=s("VU/8")(r,n,!1,function(t){s("9ayq")},"data-v-d3ab0f5e",null);a.default=c.exports},tM6Q:function(t,a){}});